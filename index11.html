<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with LeadMark landing page.">
    <link rel="shortcut icon" type="image/x-icon" href="Images\logo.svg"/>
    <meta name="author" content="Devcrud">
    <title> WALKABILITY GEOPORTAIL</title>
    <!-- font icons -->
    <link rel="stylesheet" href="assets/vendors/themify-icons/css/themify-icons.css">
    <!-- Bootstrap + LeadMark main styles -->
	<link rel="stylesheet" href="GIS_DAY_-main\assets\css\leadmark.css">
    <link href="Css\bootstrap.min.css" rel="stylesheet">
    <link href="Css\bootstrap-icons.css" rel="stylesheet">
    <link href="Css\Style.css" rel="stylesheet">

    <script src="js\jquery.min.js"></script>
    <script src="js\bootstrap.min.js"></script>
    <script src="js\jquery.sticky.js"></script>
    <script src="js\click-scroll.js"></script>
    <script src="js\counter.js"></script>
    <script src="js\custom.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js" integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css"rel="stylesheet" />
    <script src="https://api.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js"></script>
    <link href="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" rel="stylesheet" />
    <script src="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="https://cdn.osmbuildings.org/classic/0.2.2b/OSMBuildings-Leaflet.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.css" />
                <!--Routing-->
    <link href="//unpkg.com/leaflet@1.8.0/dist/leaflet.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/leaflet-measure.css">
    <link rel="stylesheet" href="leaflet-routing-machine.css">
    <link href="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" rel="stylesheet" />
    <script src="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <style>
                    html, body {
                        height: 100%;
                        margin: 0;
                    }

                    .leaflet-container {
                        height: 400px;
                        width: 600px;
                        max-width: 100%;
                        max-height: 100%;
                    }

                    .info {
                        padding: 6px 8px;
                        font: 14px/16px Arial, Helvetica, sans-serif;
                        background: white;
                        background: rgba(255, 255, 255, 0.8);
                        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
                        border-radius: 5px;
                    }

                        .info h4 {
                            margin: 0 0 5px;
                            color: #777;
                        }
    </style>

</head>


<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">

    <header class="site-header-second"></header>

    <nav class="navbar navbar-expand-lg bg-light shadow-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="Images\logo.svg" class="logo img-fluid" alt="">
                <span style="color:rgb(249, 130, 97)">
                    W</span><span style="color:rgb(97, 96, 96)">alk</span><span style="color:rgb(249, 130, 97)">A</span><span style="color:rgb(97, 96, 96)">bility</span>
                </span>
            </a>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">

                    <li class="nav-item">
                        <a class="nav-link click-scroll" href="#section_2">Walkability Map</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link click-scroll"  href="#testmonial">Team Work</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link click-scroll"  href="#contact">Contact us</a>
                    </li>
                    <li class="nav-item ms-3">
                        <a class="nav-link custom-btn custom-border-btn btn" style="color:Black;background-color:rgb(249, 130, 97);border: 4px solid rgb(150, 149, 149);" href="index.html">Return </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

<body>

    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="connectivity.geojson" type="text/javascript"></script>
    <script src="env.geojson" type="text/javascript"></script>
    <script src="density.geojson" type="text/javascript"></script>
    <script src="DIVERISTY.geojson" type="text/javascript"></script>
    <script src="prox.geojson" type="text/javascript"></script>
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<section id="#section_2" >
    <div id="map" class="transparent-map"style="width: 2100px; height: 800px;"></div>
    <script>
                    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        maxZoom: 20,
                        attribution: '<div class="attribution"> © OpenStreetMap </div>'
                    });


                    var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                        maxZoom: 20,
                        attribution: '<div class="attribution">Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community</div>'
                    });

                    var baseMaps = {

                        'OpenStreetMap': osm,
                        'satellite': satellite,
                    };

                    var map = L.map('map', {
                        center: [34.0225084, -118.248208],
                        zoom: 10,
                        layers: osm
                    });

                    //trajet

                    map.on('click', function (e) {
                        var gotolat = e.latlng.lat
                        var gotolng = e.latlng.lng
                        map.locate().on("locationfound", (i) => {
                            console.log(i.latlng)
                            L.Routing.control({
                                waypoints: [
                                    L.latLng(i.latlng.lat, i.latlng.lng),
                                    L.latLng(gotolat, gotolng)
                                ]
                            }).addTo(map)
                        })
                    });

                    //Search places
                    L.Control.geocoder().addTo(map);
                    //scale
                    L.control.scale().addTo(map);
                    //location
                    L.control.locate().addTo(map);

                    //Carte coroplète
                    function getColor4(d) {
                        return d >= -6.506540 && d < -2.438530 ? '#CC6666' :
                            d >= -2.438530 && d < -0.033091 ? '#993333' :
                            d >= -0.033091 && d < 2.182770 ? '#660000' :
                            d >= 2.182770 && d < 5.638510 ? '#330000' :
                            d >= 5.638510 && d <= 18.869600 ? '#FFCCCC' : // Adjusted the upper limit condition
                            ''; // Default color if none of the conditions are met
                    }

                    function style4(feature) {
                        return {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor4(feature.properties.walkab),
                            originalStyle: {
                                weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor4(feature.properties.walkab)
                            }
                        };
                    }

                    var geojson3 = L.geoJson(env, {
                        style: style4,
                        onEachFeature: onEachFeature
                    });

            
     //envirement
                    //////////////////////////////////////////////////////////////////////

                    function getColor2(d) {
                        return d >= -0.49669 && d < 0.093099 ? '#fef0d9' :
                            d >= 0.093099 && d < 1.218486 ? '#fdcc8a' :
                            d >= 1.218486 && d < 3.410113 ? '#fc8d59' :
                            d >= 3.410113 && d < 7.134927 ? '#e34a33' :
                            d >= 7.134928 && d <= 15.606170 ? '#b30000' : // Adjusted the upper limit condition
                            ''; // Default color if none of the conditions are met
                    }

                    function style2(feature) {
                        return {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor2(feature.properties.INDICE_1),
                            originalStyle: {
                                weight: 0.5,
                                opacity: 1,
                                color: "white",
                                dashArray: "3",
                                fillOpacity: 0.9,
                                fillColor: getColor2(feature.properties.INDICE_1)
                            }
                        };
                    }

                    var geojson1 = L.geoJson(env, {
                        style: style2,
                        onEachFeature: onEachFeature
                    });
                    
                    ///////////////////////////////////////////////////////////////////////////
         //proximity           
                    //////////////////////////////////////////////////////////////////////

                    function getColor3(d) {
                        return d >= -1.510555 && d < -0.839551 ? '#CC6666' :
                            d >= -0.839551 && d < -0.175385 ? '#993333' :
                            d >= -0.175385 && d < 0.569688 ? '#660000' :
                            d >= 0.569688 && d < 1.727389 ? '#330000' :
                            d >= 1.727389 && d <= 4.194951 ? '#FFCCCC' : // Adjusted the upper limit condition
                            ''; // Default color if none of the conditions are met
                    }

                    function style3(feature) {
                        return {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor3(feature.properties.proximity),
                            originalStyle: {
                                weight: 0.5,
                                opacity: 1,
                                color: "white",
                                dashArray: "3",
                                fillOpacity: 0.9,
                                fillColor: getColor2(feature.properties.proximity)
                            }
                        };
                    }

                    var geojson2 = L.geoJson(prox, {
                        style: style3,
                        onEachFeature: onEachFeature
                    });
                    ///////////////////////////////////////////////////////////////////////////
                    //walkab
                    ///////////////////////////////////////////////////////////////////////////
                    function getColor1(d) {
                        return d >= -2.6389 && d < -1.067105 ? '#CC6666' :
                            d >= -1.067105 && d < -0.103353 ? '#993333' :
                            d >= -0.103353 && d < 0.827581 ? '#660000' :
                            d >= 0.827581 && d < 3.439713 ? '#330000' :
                            d >= 3.439713 && d <= 7.238352 ? '#FFCCCC' : // Adjusted the upper limit condition
                            ''; // Default color if none of the conditions are met
                    }

                    function style(feature) {
                        return {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor1(feature.properties.conv_noRrr),
                            originalStyle: {
                                weight: 0.5,
                                opacity: 1,
                                color: "white",
                                dashArray: "3",
                                fillOpacity: 0.9,
                                fillColor: getColor1(feature.properties.conv_noRrr)
                            }
                        };
                    }

                    var geojson = L.geoJson(con, {
                        style: style,
                        onEachFeature: onEachFeature
                    });

                    ///////////////////////////////////////////////////////////////////////////
                    //density
                  ///////////////////////////////////////////////////////////////////////////
                  function getColor5(d) {
                    return d >= -1.878440 && d < 0.827209 ? '#CC6666' :
                        d >= 0.827209  && d < 0.00274 ? '#993333' :
                        d >= 0.00274 && d < 0.873684 ? '#660000' :
                        d >= 0.873684 && d < 2.065959 ? '#330000' :
                        d >= 2.065959 && d <= 4.237654 ? '#FFCCCC' : // Adjusted the upper limit condition
                        ''; // Default color if none of the conditions are met
                }

                function style5(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: "white",
                        dashArray: "3",
                        fillOpacity: 0.9,
                        fillColor: getColor5(feature.properties.density_no),
                        originalStyle: {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor5(feature.properties.density_no)
                        }
                    };
                }

                var geojson4 = L.geoJson(dens, {
                    style: style5,
                    onEachFeature: onEachFeature
                });
                 ///////////////////////////////////////////////////////////////////////////
                    //diveristy
                  ///////////////////////////////////////////////////////////////////////////
                  function getColor6(d) {
                    return d >= 0 && d < 0.229942 ? '#CC6666' :
                        d >= 0.229942 && d < 0.387624 ? '#993333' :
                        d >= 0.387625 && d < 0.514584 ? '#660000' :
                        d >= 0.514584 && d < 0.633264 ? '#330000' :
                        d >= 0.633264 && d <= 0.823808 ? '#FFCCCC' : // Adjusted the upper limit condition
                        ''; // Default color if none of the conditions are met
                }

                function style6(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: "white",
                        dashArray: "3",
                        fillOpacity: 0.9,
                        fillColor: getColor6(feature.properties.entropy2),
                        originalStyle: {
                            weight: 0.5,
                            opacity: 1,
                            color: "white",
                            dashArray: "3",
                            fillOpacity: 0.9,
                            fillColor: getColor6(feature.properties.entropy2)
                        }
                    };
                }
                var geojson5 = L.geoJson(diver, {
                    style: style6,
                    onEachFeature: onEachFeature
                });
                    ///////////////////////////////////////////////////////////////////////////

                var geojson4 = L.geoJson(dens, {
                    style: style5,
                    onEachFeature: onEachFeature
                });
                function highlightFeature(e) {
                    var layer = e.target;
                
                    // Save the original style
                    layer.options.originalStyle = layer.options.originalStyle || layer.options.style;
                
                    layer.setStyle({
                        weight: 5,
                        color: "#666",
                        dashArray: "",
                        fillOpacity: 0.7
                    });
                
                    layer.bringToFront();
                    info.update(layer.feature.properties);
                }

                    function zoomToFeature(e) {
                        map.fitBounds(e.target.getBounds());
                    }




                    function resetHighlight(e) {
                        var layer = e.target;
                        // Check if the originalStyle is defined before resetting
                        if (layer.options.originalStyle) {
                            layer.setStyle(layer.options.originalStyle);
                        }
                    
                        info.update();
                    }


                    function onEachFeature(feature, layer) {
                        layer.on({
                            mouseover: highlightFeature,
                            mouseout: resetHighlight,
                            click: zoomToFeature
                        });
                    }

                    var info = L.control();

                    info.onAdd = function (map) {
                        this._div = L.DomUtil.create("div", "info");
                        this.update();
                        return this._div;
                    };

                    // method that we will use to update the control based on feature properties passed
                    info.update = function (props) {
                        this._div.innerHTML =
                            "<h4>walkability index </h4>" + (props ?
                                "</b><br />" + "Value" +props.walkab+ "</b><br />" 
                                : "Move the cursor on the map to get information.");
                    };

                    info.addTo(map);


                    var building = L.layerGroup();
                    var B3D = L.tileLayer('https://api.mapbox.com/styles/v1/osmbuildings/cjt9gq35s09051fo7urho3m0f/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoib3NtYnVpbGRpbmdzIiwiYSI6IjNldU0tNDAifQ.c5EU_3V8b87xO24tuWil0w', {
                        attribution: '© <a href="https://mapbox.com">Mapbox</a>',
                        maxZoom: 60,
                    }).addTo(building);
                    var osmb = new OSMBuildings(building).load('http://{s}.data.osmbuildings.org/0.2/anonymous/tile/{z}/{x}/{y}.json');

                    var Styly = {
                        "color": "Grey",
                        "opacity": 1,
                        "weight": 1,
                        "fillColor": "White"
                    };





                    layers = {
                        "Walkability": geojson3,
                        "Connectivity": geojson,
                        "Envirnement": geojson1,
                        "Proximity": geojson2,
                        
                        "Density": geojson4,
                        "Diversity": geojson5
                       


                    };

                    var layerControl = L.control.layers(baseMaps, layers).addTo(map);
    </script>
</section>





<!-- End OF Carte -->
<!-- A propos de nous Section -->
<section class="section-padding section-bg centered-div-flex" style="background-color:rgba(249, 130, 97,0.1)" id="testmonial">
    
    <div class="container">
        <h3 class="section-title text-center mb-0" style="display: block;color:rgb(249, 130, 97)">Geoportail edited by:</h3>
        <br>
        <br>
        <div class="row">
            <!-- Person 1 -->
            <div class="col-md-4 my-3 my-md-0">
                <div class="card-body text-center">
                    <div class="media align-items-center mb-3">
                        <div class="rounded-circle overflow-hidden mx-auto" style="width: 100px; height: 100px;">
                            <img class="w-100 h-100" src="Images\fati.jpeg" alt="">
                        </div>
                        <div class="media-body mt-3">
                            <h6>EL BoubeKri fatima-EZZAHRAE</h6>
                        </div>
                    </div>
                    <p class="mb-0">Etudiante en 3ème année cycle Ingénieur en Sciences Géomatiques et Ingénierie Topographique</p>
                </div>
            </div>
            <!-- Person 2 -->
            <div class="col-md-4 my-3 my-md-0">
                <div class="card-body text-center">
                    <div class="media align-items-center mb-3">
                        <div class="rounded-circle overflow-hidden mx-auto" style="width: 100px; height: 100px;">
                            <img class="w-100 h-100" src="Images\hiba.jpg" alt="">
                        </div>
                        <div class="media-body mt-3">
                            <h6>Doi Hiba</h6>
                        </div>
                    </div>
                    <p class="mb-0">Etudiant en 3ème année cycle Ingénieur en Sciences Géomatiques et Ingénierie Topographique</p>
                </div>
            </div>
            <!-- Person 3 -->
            <div class="col-md-4 my-3 my-md-0">
                <div class="card-body text-center">
                    <div class="media align-items-center mb-3">
                        <div class="rounded-circle overflow-hidden mx-auto" style="width: 100px; height: 100px;">
                            <img class="w-100 h-100" src="Images\assat.jpg" alt="">
                        </div>
                        <div class="media-body mt-3">
                            <h6>Assat Fatima</h6>
                        </div>
                    </div>
                    <p class="mb-0">Etudiant en 3ème année cycle Ingénieur en Sciences Géomatiques et Ingénierie Topographique</p>
                </div>
            </div>
            <!-- Person 4 -->
            <div class="col-md-4 my-3 my-md-0">
                <div class="card-body text-center">
                    <div class="media align-items-center mb-3">
                        <div class="rounded-circle overflow-hidden mx-auto" style="width: 100px; height: 100px;">
                            <img class="w-100 h-100" src="Images\fatiha.jpeg" alt="">
                        </div>
                        <div class="media-body mt-3">
                            <h6>EL KADDOURI FATIHA </h6>
                        </div>
                    </div>
                    <p class="mb-0">Etudiant en 3ème année cycle Ingénieur en Sciences Géomatiques et Ingénierie Topographique</p>
                </div>
            </div>
            <!-- Add more persons as needed -->
        </div>
    </div>
</section>

<!-- End of A propos de nous Section -->
<!-- Contact Section -->
<section id="contact"  class="section-padding section-bg centered-div-flex" style="background-color:rgba(249, 130, 97,0.1)">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-5 my-3">
               
                <img class="w-50 h-50" src="Images\Logo_iav.png" alt="">
                
                <p></p>
            </div>
            <div class="col-md-7">
                <form>
                    <h4 class="mb-4">Contact us</h4>
                    <div class="form-row">
                        <div class="form-group col-sm-4">
                            <input type="text" class="form-control text-white rounded-0 bg-transparent" name="name" placeholder="Name">
                        </div>
                        <div class="form-group col-sm-4">
                            <input type="email" class="form-control text-white rounded-0 bg-transparent" name="Email" placeholder="Email">
                        </div>
                        <div class="form-group col-sm-4">
                            <input type="text" class="form-control text-white rounded-0 bg-transparent" name="subject" placeholder="Subject">
                        </div>
                        <div class="form-group col-12">
                            <textarea name="message" id="" cols="30" rows="4" class="form-control text-white rounded-0 bg-transparent" placeholder="Message"></textarea>

                        </div>
                        <div class="form-group col-12 mb-0">
                            <button type="submit" style="background-color:rgb(249, 130, 97);border-color:rgb(249, 130, 97);" class="btn btn-primary rounded w-md mt-3">Send</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

    </div>
</section>

<!-- core  -->
<script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
<script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>

<!-- bootstrap 3 affix -->
<script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>

<!-- Isotope -->
<script src="assets/vendors/isotope/isotope.pkgd.js"></script>



</body>
</html>
